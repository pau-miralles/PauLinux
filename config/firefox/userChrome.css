#TabsToolbar,
#TabsToolbar *,
#titlebar,
#titlebar *,
toolbar,
#nav-bar,
.panel-subview-body {
	border-radius: 4px !important;
}

.tabbrowser-tab,
.tab-background {
	border-radius: 4px !important;
}

:root {
	scrollbar-width: none;
	--urlbar-collapsed-width: 200px;
	--urlbar-open-width: 300px;
	--user-radius: 4px;
	--tab-block-margin: 2px;
}

/* --- GLOBAL FONT --- */
body {
	font-family: "Ubuntu Mono", monospace !important;
}

/* --- LAYOUT: ONE-LINER SETUP --- */
#navigator-toolbox {
display: flex;
flex-wrap: wrap;
flex-direction: row;
position: relative !important;
}

/* Hide the standard menu bar when inactive */
#toolbar-menubar[inactive="true"] {
display: none !important;
}

/* --- TABS BAR --- */
#titlebar {
width: 0;
flex-grow: 1;
overflow: hidden;
}

#TabsToolbar {
display: flex !important;
align-items: center;
padding-left: var(--tab-block-margin) !important;
}

#tabbrowser-tabs {
width: 0 !important;
flex: 1 !important;
border-inline: none !important;
}

/* Tab Styling */
.tabbrowser-tab {
	min-height: calc(var(--tab-min-height) - 2px) !important;
	transition: none !important;
}

.tab-background {
	border-radius: var(--user-radius) !important;
	margin-block: var(--tab-block-margin) !important;
	box-shadow: none !important;
	transition: background-color .2s;
}

#tabbrowser-tabs {
--fx-tab-open-transition-duration: 0ms !important;
}

.tab-loading-burst {
	display: none !important;
}

/* --- SINGLE TAB BEHAVIOR --- */
.tabbrowser-tab:only-of-type {
	max-width: none !important;
	/* Removes the 225px limit so it expands */
}

.tabbrowser-tab:only-of-type .tab-background {
	background: transparent !important;
	box-shadow: none !important;
}


/* --- NAVIGATION BAR --- */
#nav-bar {
background: transparent !important;
width: auto !important;
padding-right: 0 !important;
}

#urlbar-container {
width: var(--urlbar-collapsed-width) !important;
transition: width .2s, min-width .2s;
margin-left: auto !important;
}

/* Expand URL bar on hover/focus */
#urlbar-container:focus-within,
#urlbar-container:hover {
width: var(--urlbar-open-width) !important;
}

/* URL Bar Styling */
#urlbar {
--urlbar-toolbar-height: 38px !important;
min-height: 32px !important;
border-radius: var(--user-radius) !important;
}

#urlbar-background {
border-radius: var(--user-radius) !important;
background-color: var(--toolbar-field-background-color, inherit);
}

/* --- SEARCH BAR POSITION --- */
#urlbar[breakout][breakout-extend] {
width: 100% !important;
max-width: 800px !important;
/* Adjusted max-width for better look */
position: fixed !important;
/* This puts it at the very top */
top: 4px !important;
left: 50% !important;
transform: translateX(-50%) !important;
z-index: 9999 !important;
}

/* --- AUTO-HIDE ICONS & TEXT SPACING --- */

/* 1. Hide icons completely (display: none) instead of opacity.
 *     This removes the empty space on the sides. */
#urlbar-container:not(:hover):not(:focus-within) :where(#tracking-protection-icon-container, #identity-box, .urlbar-page-action) {
display: none !important;
}

/* 2. Center the URL text when not typing */
#urlbar:not([focused]) #urlbar-input {
text-align: center !important;
}

/* 3. Ensure a couple of pixels margin on sides so text doesn't hit the border */
#urlbar-input {
padding-left: 5px !important;
padding-right: 5px !important;
}

/* --- HIDING ELEMENTS --- */
#back-button,
#forward-button,
#home-button,
#stop-reload-button {
display: none !important;
}

toolbarspring,
[id^="wrapper-customizableui-special-spring"],
.titlebar-spacer,
.titlebar-buttonbox-container {
	display: none !important;
}

.tab-close-button {
	display: none !important;
}

:root,
#main-window,
body,
#navigator-toolbox,
#browser,
#appcontent,
#tabbrowser-tabbox,
#tabbrowser-tabpanels,
.browserContainer,
.browserContainer > stack,
#nav-bar,
#TabsToolbar,
#PersonalToolbar,
#titlebar,
#sidebar-box,
#sidebar-header,
#sidebar-search-container {
    background-color: transparent !important;
    background-image: none !important;
}
#urlbar-background {
    background-color: rgba(25, 25, 25, 0.8) !important;
    backdrop-filter: blur(10px) !important;
}
